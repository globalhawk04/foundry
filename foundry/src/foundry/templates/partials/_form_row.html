<!-- FILE: src/foundry/templates/partials/_form_row.html (Final, Corrected Version) -->
<div class="item-row">
    {# This now uses the clean 'item_schema' variable set by the parent template. #}
    {% for sub_prop_name, sub_prop_details in item_schema['properties'].items() %}
    <input 
        type="{{ 'number' if sub_prop_details.type == 'number' else 'text' }}" 
        name="{{ name }}_{{ sub_prop_name }}[]"
        value="{{ item.get(sub_prop_name, '') }}"
        placeholder="{{ sub_prop_details.title or sub_prop_name }}">
    {% endfor %}
    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">X</button>
</div>