<!-- FILE: frontend/components/_job_poller_card.html -->
{# 
  Renders a card that will poll a status endpoint until a job is complete.
  Expects:
  - job_id: The ID of the job to poll.
  - status_url: The URL of the status checking endpoint (e.g., '/jobs/123/status').
  - title: A title for the card (e.g., "Processing Your Document").
#}
<div 
    id="job-poller-{{ job_id }}"
    class="foundry-poller-card"
    hx-get="{{ status_url }}"
    hx-trigger="load, every 2s"
    hx-swap="outerHTML"
>
    <!-- This inner div is what gets replaced by the status update partial -->
    <div class="foundry-poller-content">
        <h4>{{ title }}</h4>
        <div class="progress-bar-container">
            <div class="progress-bar" style="width: 0%;"></div>
        </div>
        <p class="status-message">Initializing...</p>
    </div>
</div>

<!-- Basic styling for the component -->
<style>
    .foundry-poller-card { border: 1px solid #ddd; border-radius: 8px; padding: 20px; background: #fff; max-width: 500px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    .progress-bar-container { background: #eee; border-radius: 5px; overflow: hidden; height: 20px; margin: 10px 0; }
    .progress-bar { background: #007bff; height: 100%; transition: width 0.3s ease-in-out; }
    .status-message { color: #555; font-size: 0.9em; }
</style>
